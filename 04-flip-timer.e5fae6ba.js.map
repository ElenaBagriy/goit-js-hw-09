{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aCiIA,SAASC,EAAoBC,EAAgBC,EAAgBC,GAC3DF,EAAeG,YAAcD,EAC7BD,EAAeE,YAAcD,C,CAG/B,SAASE,EAAkBC,EAAgBC,GACzC,IAAMC,EA3BR,SAAgCF,GAC9B,IAAMG,EAAiBH,EAAeI,cAAc,oBAC9CC,EAAoBF,EAAeC,cAAc,yBACjDE,EAAuBH,EAAeC,cAC1C,4BAGIG,EAAiBJ,EAAeC,cAAc,oBAC9CI,EAAoBD,EAAeH,cAAc,yBACjDK,EAAuBF,EAAeH,cAAc,4BAG1D,MAAO,CACLC,oBACAC,uBACAC,iBACAC,oBACAC,uB,CAUsBC,CAAuBV,GAG7CW,SAAST,EAAgBG,kBAAkBP,YAAa,MAAQG,IAKlEC,EAAgBK,eAAeK,UAAUC,IAAI,QAE7CnB,EACEQ,EAAgBG,kBAChBH,EAAgBO,qBAChBR,GAcFC,EAAgBK,eAAeO,iBAC7B,gBAZF,SAASC,IACPb,EAAgBK,eAAeK,UAAUI,OAAO,QAChDtB,EACEQ,EAAgBI,qBAChBJ,EAAgBM,kBAChBP,GAGFgB,KAAKC,oBAAoB,eAAgBH,E,KAS7C,SAASI,EAAkBC,EAAWnB,GACpC,IAAMoB,EAAcC,KAAKC,MAAMtB,EAAY,KAAO,EAC5CuB,EAAevB,EAAY,IAAM,EAE/BwB,EADiBC,SAASC,eAAeP,GACXQ,iBAAiB,iBAEvD7B,EAAkB0B,EAAa,GAAIJ,GACnCtB,EAAkB0B,EAAa,GAAID,E,CAG9B,SAASK,EAAkBC,G,IAAEC,EAAFD,EAAEC,KAAMC,EAARF,EAAQE,MAAOC,EAAfH,EAAeG,QAC/Cd,EAAkB,UADcW,EAAwBI,SAExDf,EAAkB,UAAWc,GAC7Bd,EAAkB,QAASa,GAC3Bb,EAAkB,OAAQY,E,CAtLXL,SAAStB,cAAc,UA0G/B+B,UAxGO,m0HDIhB,IAGIC,EAHEC,EAASX,SAAStB,cAAc,sBAEtCiC,EAAOC,UAAW,EAElB,IACIC,EAAU,EAEdC,EAAAC,OAAOC,KAAK,CACRC,MAAO,QACPC,SAAU,aACVC,oBAAoB,EACpBC,cAAc,EACdC,SAAU,SAGd,IAAMC,EAAU,CACZC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EAEjBC,QAAA,SAAQC,GACJnB,EAAemB,EAAc,GAwBrC,WACI,IAAMC,EAAcJ,KAAKK,MAGzB,KAFqBrB,EAAeoB,EAAc,GAI9C,YADAhB,EAAAC,OAAOiB,QAAQ,sCAGnBrB,EAAOC,UAAW,C,CA/BdqB,E,IAIR,EAAAnE,EAAAoE,SAAU,wBAAyBZ,GAEnCX,EAAOvB,iBAAiB,SAExB,WACI,GAAIyB,EAAU,EACV,OAGSsB,aAAY,WACrBtB,GAAW,EACX,IAmBWuB,EACTC,EACAC,EACAC,EACAC,EAEAnC,EACAC,EACAC,EACAC,EA5BIsB,EAAcJ,KAAKK,MACnBU,GAkBKL,EAlBgB1B,EAAeoB,EAsBxCU,EAAa,IADbD,EAAgB,IADhBD,EAAkB,IADlBD,EAAS,OAKThC,EAAOT,KAAKC,MAAMuC,EAAKI,GACvBlC,EAAQV,KAAKC,MAAMuC,EAAMI,EAAOD,GAChChC,EAAUX,KAAKC,MAAMuC,EAAOI,EAAOD,EAAQD,GAC3C9B,EAAUZ,KAAKC,MAAMuC,EAAQI,EAAOD,EAAQD,EAAUD,GAErD,CAAEhC,OAAMC,QAAOC,UAASC,YA5B3BkC,QAAQC,IAAIF,GAEZtC,EAAkBsC,E,GACnB,I","sources":["src/js/04-flip-timer.js","src/js/beautiful-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\nimport {updateAllSegments} from './beautiful-timer';\n\nconst button = document.querySelector('button[data-start]');\n\nbutton.disabled = true;\nlet selectedDate;\nlet intervalId = null;\nlet counter = 0;\n\nNotify.init({\n    width: '400px',\n    position: 'center-top',\n    showOnlyTheLastOne: true,\n    clickToClose: true,\n    fontSize: '16px',\n});\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n\n    onClose(selectedDates) {\n        selectedDate = selectedDates[0];\n        checkFutureDate();\n    },\n};\n\nflatpickr('input#datetime-picker', options);\n    \nbutton.addEventListener('click', startCountdown);\n\nfunction startCountdown() {\n    if (counter > 0) {\n        return;\n    };\n    \n    intervalId = setInterval(() => {\n        counter += 1;\n        const currentDate = Date.now();\n        const timeLeft = convertMs(selectedDate - currentDate);\n        console.log(timeLeft)\n        \n        updateAllSegments(timeLeft);\n    }, 1000);\n}\n\nfunction checkFutureDate() {\n    const currentDate = Date.now();\n    const isFutureDate = selectedDate - currentDate > 0 ? true : false;\n\n    if (!isFutureDate) {\n        Notify.failure('Please choose a date in the future');\n        return;\n    }\n    button.disabled = false;\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n    return value.padStart(2, 0);\n}\n","const baseItem = document.querySelector('.timer');\n\nconst markUp = `<div class=\"time-section\" id=\"days\">\n        <div class=\"time-group\">\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p>Days</p>\n      </div>\n\n      <div class=\"time-section\" id=\"hours\">\n        <div class=\"time-group\">\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p>Hours</p>\n      </div>\n\n      <div class=\"time-section\" id=\"minutes\">\n        <div class=\"time-group\">\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p>Minutes</p>\n      </div>\n\n      <div class=\"time-section\" id=\"seconds\">\n        <div class=\"time-group\">\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"time-segment\">\n            <div class=\"segment-display\">\n              <div class=\"segment-display__top\"></div>\n              <div class=\"segment-display__bottom\"></div>\n              <div class=\"segment-overlay\">\n                <div class=\"segment-overlay__top\">0</div>\n                <div class=\"segment-overlay__bottom\">0</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p>Seconds</p>\n      </div>`;\n\nbaseItem.innerHTML = markUp;\n\nfunction getTimeSegmentElements(segmentElement) {\n  const segmentDisplay = segmentElement.querySelector('.segment-display');\n  const segmentDisplayTop = segmentDisplay.querySelector(\".segment-display__top\");\n  const segmentDisplayBottom = segmentDisplay.querySelector(\n    \".segment-display__bottom\"\n  );\n\n  const segmentOverlay = segmentDisplay.querySelector(\".segment-overlay\");\n  const segmentOverlayTop = segmentOverlay.querySelector(\".segment-overlay__top\");\n  const segmentOverlayBottom = segmentOverlay.querySelector(\".segment-overlay__bottom\"\n);\n\n  return {\n    segmentDisplayTop,\n    segmentDisplayBottom,\n    segmentOverlay,\n    segmentOverlayTop,\n    segmentOverlayBottom\n  };\n}\n\nfunction updateSegmentValues(displayElement, overlayElement, value) {\n  displayElement.textContent = value;\n  overlayElement.textContent = value;\n}\n\nfunction updateTimeSegment(segmentElement, timeValue) {\n  const segmentElements = getTimeSegmentElements(segmentElement);\n\n  if (\n    parseInt(segmentElements.segmentDisplayTop.textContent, 10) === timeValue\n  ) {\n    return;\n  }\n\n  segmentElements.segmentOverlay.classList.add(\"flip\");\n\n  updateSegmentValues(\n    segmentElements.segmentDisplayTop,\n    segmentElements.segmentOverlayBottom,\n    timeValue\n  );\n\n  function finishAnimation() {\n    segmentElements.segmentOverlay.classList.remove(\"flip\");\n    updateSegmentValues(\n      segmentElements.segmentDisplayBottom,\n      segmentElements.segmentOverlayTop,\n      timeValue\n    );\n\n    this.removeEventListener(\"animationend\", finishAnimation);\n  }\n\n  segmentElements.segmentOverlay.addEventListener(\n    \"animationend\",\n    finishAnimation\n  );\n}\n\nfunction updateTimeSection(sectionID, timeValue) {\n  const firstNumber = Math.floor(timeValue / 10) || 0;\n  const secondNumber = timeValue % 10 || 0;\n    const sectionElement = document.getElementById(sectionID);\n    const timeSegments = sectionElement.querySelectorAll(\".time-segment\");\n\n  updateTimeSegment(timeSegments[0], firstNumber);\n  updateTimeSegment(timeSegments[1], secondNumber);\n}\n \nexport function updateAllSegments({ days, hours, minutes, seconds }) {\n  updateTimeSection(\"seconds\", seconds);\n  updateTimeSection(\"minutes\", minutes);\n  updateTimeSection(\"hours\", hours);\n  updateTimeSection(\"days\", days)\n}"],"names":["$dbdyf","parcelRequire","$d5a4c01c20a4af39$var$updateSegmentValues","displayElement","overlayElement","value","textContent","$d5a4c01c20a4af39$var$updateTimeSegment","segmentElement","timeValue","segmentElements","segmentDisplay","querySelector","segmentDisplayTop","segmentDisplayBottom","segmentOverlay","segmentOverlayTop","segmentOverlayBottom","$d5a4c01c20a4af39$var$getTimeSegmentElements","parseInt","classList","add","addEventListener","finishAnimation","remove","this","removeEventListener","$d5a4c01c20a4af39$var$updateTimeSection","sectionID","firstNumber","Math","floor","secondNumber","timeSegments","document","getElementById","querySelectorAll","$d5a4c01c20a4af39$export$7d214587593da9ca","param","days","hours","minutes","seconds","innerHTML","$6b3ec518655e475e$var$selectedDate","$6b3ec518655e475e$var$button","disabled","$6b3ec518655e475e$var$counter","$h6c0i","Notify","init","width","position","showOnlyTheLastOne","clickToClose","fontSize","$6b3ec518655e475e$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","currentDate","now","failure","$6b3ec518655e475e$var$checkFutureDate","default","setInterval","ms","second","minute","hour","day","timeLeft","console","log"],"version":3,"file":"04-flip-timer.e5fae6ba.js.map"}